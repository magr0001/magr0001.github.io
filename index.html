<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fitness App</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #333;
            color: #fff;
            margin: 0;
            padding: 20px;
        }
        .exercise-list {
            margin-bottom: 20px;
        }
        .exercise-item {
            background-color: #444;
            margin: 5px 0;
            padding: 10px;
            border-radius: 5px;
            cursor: pointer;
        }
        .input-section {
            display: none;
            margin-top: 10px;
        }
        .input-section.visible {
            display: block;
        }
        .button {
            background-color: #555;
            border: none;
            color: white;
            padding: 10px;
            cursor: pointer;
            border-radius: 5px;
            margin-top: 5px;
        }
        input[type="text"], input[type="number"], textarea {
            width: calc(100% - 20px);
            padding: 10px;
            margin: 5px 0;
            border: none;
            border-radius: 5px;
        }
        .timer {
            font-size: 24px;
            margin-bottom: 20px;
            cursor: pointer;
            display: inline-block;
            margin-right: 10px;
        }
    </style>
</head>
<body>

<div class="timer" id="stopwatch">00:00:00</div>
<div class="timer" id="countdown">02:00</div>

<div class="exercise-list" id="exerciseList"></div>

<div id="addExercise" class="input-section">
    <input type="text" id="exerciseName" placeholder="Übungsname">
    <input type="number" id="exerciseInterval" placeholder="Intervall (Tage)">
    <button class="button" id="saveExercise">Hinzufügen</button>
</div>

<button class="button" id="toggleAddExercise">Neue Übung hinzufügen</button>
<button class="button" id="resetAll">Alle Daten löschen</button>

<script>
    let exercises = [];
    let timerInterval, countdownInterval;
    let stopwatchSeconds = 0, countdownSeconds = 120;

    const stopwatchDisplay = document.getElementById('stopwatch');
    const countdownDisplay = document.getElementById('countdown');

    // Start/Reset Stopwatch
    stopwatchDisplay.onclick = function () {
        if (timerInterval) return; // Timer läuft bereits
        timerInterval = setInterval(() => {
            stopwatchSeconds++;
            const hours = String(Math.floor(stopwatchSeconds / 3600)).padStart(2, '0');
            const minutes = String(Math.floor((stopwatchSeconds % 3600) / 60)).padStart(2, '0');
            const seconds = String(stopwatchSeconds % 60).padStart(2, '0');
            stopwatchDisplay.innerText = `${hours}:${minutes}:${seconds}`;
        }, 1000);
    };

    // Reset Stopwatch on double-click
    stopwatchDisplay.ondblclick = function () {
        clearInterval(timerInterval);
        timerInterval = null;
        stopwatchSeconds = 0;
        stopwatchDisplay.innerText = '00:00:00';
    };

    // Start Countdown
    countdownDisplay.onclick = function () {
        clearInterval(countdownInterval);
        countdownInterval = setInterval(() => {
            countdownSeconds--;
            if (countdownSeconds < 0) {
                clearInterval(countdownInterval);
                countdownDisplay.innerText = '00:00';
            } else {
                const minutes = String(Math.floor(countdownSeconds / 60)).padStart(2, '0');
                const seconds = String(countdownSeconds % 60).padStart(2, '0');
                countdownDisplay.innerText = `${minutes}:${seconds}`;
            }
        }, 1000);
    };

    // Reset Countdown on double-click
    countdownDisplay.ondblclick = function () {
        clearInterval(countdownInterval);
        countdownSeconds = 120;
        countdownDisplay.innerText = '02:00';
    };

    document.getElementById('toggleAddExercise').onclick = function () {
        const addExerciseSection = document.getElementById('addExercise');
        addExerciseSection.classList.toggle('visible');
    };

    document.getElementById('saveExercise').onclick = function () {
        const name = document.getElementById('exerciseName').value;
        const interval = parseInt(document.getElementById('exerciseInterval').value);
        if (name && !isNaN(interval)) {
            exercises.push({ name, interval, daysRemaining: interval });
            document.getElementById('exerciseName').value = '';
            document.getElementById('exerciseInterval').value = '';
            renderExercises();
        }
    };

    function renderExercises() {
        const exerciseList = document.getElementById('exerciseList');
        exerciseList.innerHTML = '';
        exercises.sort((a, b) => a.daysRemaining - b.daysRemaining).forEach((exercise, index) => {
            const exerciseItem = document.createElement('div');
            exerciseItem.className = 'exercise-item';
            exerciseItem.innerHTML = `${exercise.name} (${exercise.interval} Tage) - ${exercise.daysRemaining} Tage`;
            exerciseItem.onclick = () => toggleExerciseDetails(index);
            exerciseList.appendChild(exerciseItem);
        });
    }

    document.getElementById('resetAll').onclick = function () {
        if (confirm('Möchten Sie wirklich alle Daten löschen?')) {
            exercises = [];
            renderExercises();
        }
    };

    function toggleExerciseDetails(index) {
        const exercise = exercises[index];
        const exerciseDetails = document.createElement('div');
        exerciseDetails.className = 'input-section';
        exerciseDetails.innerHTML = `
            <input type="number" placeholder="Gewicht" min="0" />
            <input type="number" placeholder="Wiederholungen" min="0" />
            <button class="button" onclick="addSet(${index})">Satz hinzufügen</button>
            <button class="button" onclick="removeExercise(${index})">Übung entfernen</button>
        `;
        exerciseDetails.classList.toggle('visible');
        exerciseDetails.style.display = exerciseDetails.style.display === 'block' ? 'none' : 'block';
        exerciseList.appendChild(exerciseDetails);
    }

    function addSet(index) {
        // Funktion zum Hinzufügen eines Satzes
    }

    function removeExercise(index) {
        exercises.splice(index, 1);
        renderExercises();
    }
</script>

</body>
</html>